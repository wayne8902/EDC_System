document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("[data-bss-chart]");for(var t of e)t.chart=new Chart(t,JSON.parse(t.dataset.bssChart))}),!1);var url_host="../",cross_org_host="https://istone.ee.nsysu.edu.tw:7777";function get_date_string(){var e=new Date,t=""+(e.getYear()+1900),o=e.getMonth()+1,n=e.getDate();return o<10&&(o="0"+o),n<10&&(n="0"+n),t+"/"+o+"/"+n}let post_json=async(e,t)=>(await fetch(e,{method:"post",body:t,mode:"cors",headers:{"Access-Control-Allow-Origin":cross_org_host,"Content-Type":"application/json"}})).json(),postfunct=async(e,t="")=>(""==t&&(t=JSON.stringify({seed:1e4*Math.random()})),(await fetch(e,{method:"post",body:t,mode:"cors",credentials:"include",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0,"Content-Type":"application/json"}})).json());function getParameterByName(e,t=window.location.href){e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}function getCookie(e){const t=`; ${document.cookie}`.split(`; ${e}=`);if(2===t.length)return t.pop().split(";").shift()}function html_onload(e){console.log("change name plate"),null!=document.getElementById("nvbar-ID")&&(document.getElementById("nvbar-ID").innerHTML=decodeURI(getCookie("user_id")))}async function check_login(){var e=await postfunct("/login/checklogin","");301==e.status&&(alert("請重新登入"),window.location.href=e.redir)}html_onload(),function(){"use strict";var e=document.querySelector(".sidebar"),t=document.querySelectorAll("#sidebarToggle, #sidebarToggleTop");if(e){e.querySelector(".collapse");var o=[].slice.call(document.querySelectorAll(".sidebar .collapse")).map((function(e){return new bootstrap.Collapse(e,{toggle:!1})}));for(var n of t)n.addEventListener("click",(function(t){if(document.body.classList.toggle("sidebar-toggled"),e.classList.toggle("toggled"),e.classList.contains("toggled"))for(var n of o)n.hide()}));window.addEventListener("resize",(function(){if(Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)<768)for(var e of o)e.hide()}))}var r=document.querySelector("body.fixed-nav .sidebar");r&&r.on("mousewheel DOMMouseScroll wheel",(function(e){if(Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)>768){var t=e.originalEvent,o=t.wheelDelta||-t.detail;this.scrollTop+=30*(o<0?1:-1),e.preventDefault()}}));var l=document.querySelector(".scroll-to-top");l&&window.addEventListener("scroll",(function(){var e=window.pageYOffset;l.style.display=e>100?"block":"none"}))}();